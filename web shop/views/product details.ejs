<!DOCTYPE html>
<%- include('./partials/head.ejs') %>

<body>
  <%- include('./partials/header.ejs') %>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <main>
    <div class="section-div">
      <h1 class="product-title-h1">
        <%= locals.productDetails.name %>
      </h1>
      <div class="product-details-div">
        <% if (locals.productDetails.image) { %>
        <div class="product-img-div">
          <div style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff" class="image-swiper swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="assets/product images/image1.jpg" />
              </div>
              <div class="swiper-slide">
                <img src="assets/product images/image1.jpg" />
              </div>
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
          </div>
          <div thumbsSlider="" class="thumbnails-swiper swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="assets/product images/image1.jpg" />
              </div>
              <div class="swiper-slide">
                <img src="assets/product images/image1.jpg" />
              </div>
            </div>
          </div>
        </div>
        <% } else { %>
        <img class="product-img" src="assets/no image placeholder.png" alt="">
        <% } %>
        <div class="product-specs-div">
          <h3 class="main-product-specs-h3">
            GLAVNE SPECIFIKACIJE:
          </h3>
          <% if (locals.productDetails.specs.length > 0) { %>
          <ul class="product-specs-ul">
            <% locals.productDetails.specs.forEach(spec => { %>
            <li>> <%= spec  %></li>
            <% }) %>
          </ul>
          <a href="#all-specs" class="show-all-specs-a">Sve specifikacije</a>
          <% } %>
        </div>
        <div class="price-info-div">
          <h2 class="product-price-h2">
            <%= locals.productDetails.price %>€
          </h2>
          <p class="promo-price-p">Promotivna cijena vrijedi za sve oblike plaćanja (do 24 rate beskamatno)</p>
          <p class="product-warranty-p green-p">
            <%= locals.productDetails.warranty %> mj. jamstvo
          </p>
          <% if (locals.productDetails.stock > 0) { %>
          <p class="product-stock-p green-p">
            Na zalihi <span>vrijeme isporuke: 1 - 3 dana</span>
          </p>
          <% } else { %>
          <p class="product-stock-p red-p">
            Nije dostupno
          </p>
          <% } %>

          <div class="cart-quantity-label-div">
            <div class="add-to-cart-div">
              <button class="decrease-quantity-btn">-</button>
              <span class="product-quantity-span">2</span>
              <button class="increase-quantity-btn">+</button>
            </div>
            <span class="quantity-label-span">Količina</span>
          </div>
          <a class="add-to-cart-btn" href="#">
            <img src="assets/cart icon white.png" alt="" class="add-to-cart-img">
            <span>U košaricu</span>
          </a>
        </div>
      </div>
      <!-- <img class="product-img" src="assets/product images/<%= locals.productDetails.image  %>" alt=""> -->
    </div>
    </div>
    <div class="section-div">
      <h2 class="product-desc-title-h2">OPIS</h2>
      <p class="product-desc-p">
        <%= locals.productDetails.description %>
      </p>
    </div>
  </main>
  <%- include('./partials/footer.ejs') %>
  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper(".thumbnails-swiper", {
      spaceBetween: 10,
      slidesPerView: 4,
      freeMode: true,
      watchSlidesProgress: true,
    });
    var swiper2 = new Swiper(".image-swiper", {
      spaceBetween: 10,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      thumbs: {
        swiper: swiper,
      },
    });
  </script>
</body>